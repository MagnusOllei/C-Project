#include <iostream>
#include <limits>

using namespace std;

const int WIDTH = 20;
const int HEIGHT = 10;
const int NUM_HOLES = 9;
const char PATH = '-';
const char OBSTACLE = '#';
const char BALL = 'o';
const char HOLE = 'X';

struct Ball {
    int x, y;
};

struct Hole {
    int x, y;
    int par = 4;
};

// Predefined Ball Positions
Ball ballPositions[NUM_HOLES] = {
    {1, 1}, {0, 0}, {0, 0}, {0, 0}, {0, 8}, {9, 9}, {0, 9}, {10, 5}, {0, 9}
};

// Predefined Hole Positions
Hole holes[NUM_HOLES] = {
    {18, 8}, {19, 9}, {19, 0}, {19, 9}, {19, 1}, {9, 1}, {18, 3}, {0, 0}, {19, 9}
};

// Predefined Courses
char courses[NUM_HOLES][HEIGHT][WIDTH + 1] = {
    {"--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------"},

    {"------------#####--",
     "--------------------",
     "-----#####----------",
     "--------------------",
     "----------#####-----",
     "--------------------",
     "#####---------------",
     "-----------#####----",
     "--------------------",
     "-#####--------------"},

    {"----------#---------",
     "----------#---------",
     "----------#---------",
     "----------#---------",
     "----------#---------",
     "----------#---------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------"},

    {"-----#--------------",
     "-----#--------------",
     "-----#--------------",
     "--------------------",
     "----############----",
     "--------------------",
     "--------------------",
     "--------------#-----",
     "--------------#-----",
     "--------------#-----"},

    {"-------------------#",
     "--------#---------#-",
     "-------#---------#--",
     "------#---------#---",
     "-----#---------#----",
     "----#---------#-----",
     "---#---------#------",
     "--#---------#-------",
     "-#---------#--------",
     "#-------------------"},

    {"--#########---------",
     "--#-------#---------",
     "--#-------#---------",
     "--#-------#---------",
     "--#-------#---------",
     "--#-------#---------",
     "--#-------#---------",
     "--#-------##########",
     "--#----------------#",
     "--##################"},

    {"------######--------",
     "------#-------------",
     "------######--------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------",
     "--------------------"},

    {"--------------------",
     "-----#####----------",
     "-----#---#----------",
     "-----#---#----------",
     "-----#---#----------",
     "-----#---#----------",
     "-----#---#----------",
     "--------------------",
     "--------------------",
     "--------------------"},

    {"#---#---#---#---#---",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#-#-#-#-#-#-#-#-#-",
     "#-#---#---#---#---#-"}
};

void displayCourse(Ball ball, int holeNum) {
    for (int y = 0; y < HEIGHT; y++) {
        for (int x = 0; x < WIDTH; x++) {
            if (x == ball.x && y == ball.y)
                cout << BALL;
            else if (x == holes[holeNum].x && y == holes[holeNum].y)
                cout << HOLE;
            else
                cout << courses[holeNum][y][x];
        }
        cout << endl;
    }
}

void moveBall(Ball &ball, int holeNum, char direction, int force) {
    int dx = 0, dy = 0;
    switch (direction) {
        case 'u': dy = -force; break;
        case 'd': dy = force; break;
        case 'l': dx = -force; break;
        case 'r': dx = force; break;
        default: return;
    }

    int newX = ball.x + dx;
    int newY = ball.y + dy;

    if (newX < 0 || newX >= WIDTH || newY < 0 || newY >= HEIGHT || courses[holeNum][newY][newX] == OBSTACLE) {
        cout << "Hit an obstacle or went out of bounds! Try again.\n";
        return;
    }

    ball.x = newX;
    ball.y = newY;
}

void getValidInput(char &direction, int &force) {
    while (true) {
        cout << "Enter direction (u/d/l/r): ";
        cin >> direction;
        if (direction == 'u' || direction == 'd' || direction == 'l' || direction == 'r') break;
        cout << "Invalid direction! Please enter 'u', 'd', 'l', or 'r'.\n";
    }

    while (true) {
        cout << "Enter force (1-10): ";
        cin >> force;
        if (force >= 1 && force <= 10) break;
        cout << "Invalid force! Enter a number between 1 and 10.\n";
    }
}

int main() {
    int totalScore = 0;
    for (int i = 0; i < NUM_HOLES; i++) {
        Ball ball = ballPositions[i];
        int strokes = 0;
        cout << "\nStarting Hole " << i + 1 << " (Par 4)\n";
        displayCourse(ball, i);

        while (ball.x != holes[i].x || ball.y != holes[i].y) {
            char direction;
            int force;
            getValidInput(direction, force);
            moveBall(ball, i, direction, force);
            strokes++;
            displayCourse(ball, i);
        }

        cout << "Completed Hole " << i + 1 << " in " << strokes << " strokes!\n";
        totalScore += strokes;
    }
    cout << "\nCongratulations! You have completed the game with a final score of " << totalScore << "!\n";
    return 0;
}
